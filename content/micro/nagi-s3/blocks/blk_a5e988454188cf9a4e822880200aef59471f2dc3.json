{
  "id": "blk_a5e988454188cf9a4e822880200aef59471f2dc3",
  "source": "新アーキテクチャが広がり始めた矢先、最悪のタイミングで事件が起きた。\n深夜、障害通知。新しい決済フローで、特定条件のユーザーだけが購入できない。SNS には怒り、CS は炎上。\n\n翌朝、会議室に“敵”が勢揃いした。\n真壁が顔色を失い、古参が嬉しそうに攻撃する。\n「ほらな！ そんな数学とか言ってるからだ！」\n「抽象化なんて現場の役に立たない。スクリプトに全部書けば見えるんだよ！」\n\nミオは胃が縮む。自分もレンズ実装に関わっていた。\nナギは、焦らない。声のトーンも変えない。\n「ログ、ください。WorldState のスナップショットも」\n\n画面に並ぶ状態の差分。ログイン状態、ユーザー属性、課金種別、エラーコード。\nナギは、まるでパズルを解くように言った。\n「境界条件が一つ漏れてる。年齢制限フラグと、地域規制の組み合わせ」\n真壁が目を見開く。「そんな組み合わせ、仕様書の端に…」\n「E です。制約。端にあるからこそ、落ちやすい」\n\nナギは“観点カード”を一枚足した。\nS：年齢制限×地域規制の組み合わせで決済が拒否されること\nA(S)：代表ユーザー（該当フラグの境界）での確認\n\n追加するのはテスト 1 本。レンズは既存のまま。WorldState の生成に一行足すだけ。\n修正はその日の昼に終わった。\n\n古参が言い返す前に、ナギが静かに言った。\n「旧方式なら、どうしてました？」\n真壁が答えられずにいると、ミオが小さく言った。\n「……たぶん、関連しそうな E2E を 20 本くらい増やして、祈りながら回してた」\n\nナギは頷く。\n「設計ミスは 1 箇所で直せる。これがアーキテクチャの価値です」\n真壁の表情が変わる。恐怖に支配された“増やす”ではなく、制約を理解した“足す”へ。\n\n会議室の空気から、攻撃の勢いが抜けていく。\n敵は勝てなかったのではない。勝負の土俵が、変わってしまったのだ。",
  "type": "Markdown"
}
