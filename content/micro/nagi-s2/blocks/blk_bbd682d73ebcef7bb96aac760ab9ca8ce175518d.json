{
  "id": "blk_bbd682d73ebcef7bb96aac760ab9ca8ce175518d",
  "source": "次に来たのは、新しい通知機能の追加だった。\n「通知設定、今度は“時間帯”と“端末状態”も絡む。ややこしいぞ」\n真壁がそう言いながら、意外な一言を続けた。\n「ひかり、これ、設計から任せてみるか」\nひかりは固まった。\n「え……私が？設計……？」\nナギが頷き、背中を押す。\n「小さな機能でいい。Gを使って、観点SとA(S)を自分で決めてみよう」\n\nひかりは会議室にこもり、ノートにWを書いた。\nW：通知設定状態／時間帯／端末のサイレント／ネットワーク／ユーザ属性\nE：通知すべき条件、すべきでない条件、OSの制約\nS：どこを見る？\n彼女はペンを止め、迷った。全部見たくなる。でも全部は無理。\n“観点を選ぶのが設計”\n第8話の言葉が蘇る。\n\nひかりはSを三つに絞った。\nS1：正常に通知が届く\nS2：届かないべき時に届かない\nS3：境界（時間帯切り替わり、サイレントON/OFF）\nそしてA(S)として同値クラスを作る。\n“通知ON群”“通知OFF群”“時間帯内群”“時間帯外群”…\n境界値は、23:59と00:00。サイレント切替直後。\n頭の中でちびキャラが整列していく。\n\n次に、レンズを設計する。\n`NotificationSettingsLens`\n設定画面の操作と状態判定だけを閉じ込める。\nテスト本体は、観点の言葉だけで書く。\n`settings.enableNotification()`\n`settings.setQuietHours(23:00, 7:00)`\n`assertNotificationArrives()`\nこの“言葉”が、ひかりの背骨になる。\n\nミオがレビューで言った。\n「ケースの代表、いい選び方してる。境界も押さえてる」\n真壁が言った。\n「実装も悪くない。無駄に増やしてない」\nその評価が、ひかりを少しずつ現実の地面に立たせる。\n\nリリース後、一週間。通知に関するバグ報告が、一本も上がらなかった。\nPMがチームチャットに書く。\n“通知、今回めっちゃ安定してたね。ありがとう！”\nひかりは画面を見て、しばらく固まったあと、静かにガッツポーズをした。\n\nナギが隣で言う。\n「観点を選べたからだよ。A(S)を作れたから、網羅じゃなく設計になった」\nひかりは笑いながら、少しだけ泣いた。\n「私……ソフトの中身、ちょっと見えた気がします」\n真壁が背後から言う。\n「見えるようになったら、次は作れ」\nその言葉に、ひかりの胸がまた熱くなる。\n自動化テストは、入り口。\n今、彼女は入り口の向こう側に、確かに足をかけていた。",
  "type": "Markdown"
}
