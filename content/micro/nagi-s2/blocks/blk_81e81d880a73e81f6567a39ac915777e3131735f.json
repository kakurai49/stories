{
  "id": "blk_81e81d880a73e81f6567a39ac915777e3131735f",
  "source": "テストが安定すると、ひかりは欲張りになる。ケースを増やしたい。境界を攻めたい。\nだが新しい問題が出た。\n「ユーザ登録が……面倒すぎる……」\nテストのたびに手動でアカウントを作り、DBにゴミが溜まっていく。気づけば“test1234”が山ほど並び、どれが何のためか分からない。\n\nミオがため息をつく。\n「このままだと、環境が死ぬ。誰かが掃除する羽目になる」\nひかりは肩をすくめ、泣きそうになる。\n「私が……ゴミ製造機……」\n\nナギがホワイトボードに、短く書いた。\nFactory / Fixture\n「テストデータを“作る仕組み”にする。手で作ると、意図も履歴も散る。コードにすると、意図が残る」\nそして例を見せる。\n`UserFactory.validAdult()`\n`UserFactory.invalidBirthday()`\n`UserFactory.edgeCaseAge(18)`\n「テストデータは、推しキャラの公式設定資料集みたいなもの。どんな属性を何種類用意するか、決めておこう」\n\nひかりは、目を輝かせた。\n「設定資料集……！私、設定資料集なら一生読めます！」\n真壁が小声で呟く。\n「仕事にしてくれ」\n\nナギは続けて、同値分割と境界値の図を描いた。\n「ここが同値クラス。似たものはまとめて代表を選ぶ。で、境界は壊れやすいから押さえる」\nひかりはノートに、年齢のラインを引き、キャラっぽく落書きしながら理解していく。\n“17歳＝未成年ちゃん”\n“18歳＝境界先輩”\n“19歳＝成人さん”\nふざけているようで、意外と頭に残った。\n\nその日の午後、ひかりはFactoryを作り始めた。\nユーザ名に意味を込める。\n“adult_valid_01”\n“birthday_invalid_LeapDay”\nデータを作る時点で「何を試したいか」が明確になる。\nさらに、テスト後にデータを片付ける仕組みも入れる。\n「掃除までがテスト……」\nミオが頷いた。\n「掃除できる人が、強い」\n\n夜、ひかりは自分のFactoryファイルを開いて、追加のメソッドを考える。\n「エラーになる誕生日……ギリギリ年齢……サイレント通知……」\nテスト観点が、自然と頭の中で枝分かれしていく。\nそれは単に“バグ探し”じゃない。世界のルールを整理し、壊れやすい場所を地図にする作業だ。\n\nナギが最後に言った。\n「データ設計は、世界を理解する練習。ひかりが今やってるのは、ソフトを作る側の視点だよ」\nその言葉に、ひかりは少しだけ背筋が伸びた。\n“作る側”。\n怖かったはずの言葉が、いまは憧れの輪郭を持ち始めている。",
  "type": "Markdown"
}
