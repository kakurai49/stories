<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>第4話「コピペ地獄からのPage Object救出作戦」 | Hina Generated Experience</title>
    <link rel="stylesheet" href="../../assets/tokens.css">
    <link rel="stylesheet" href="../../assets/base.css">
    <link rel="stylesheet" href="../../assets/components.css">
    <link rel="stylesheet" href="../../../micro.css">
    <link rel="stylesheet" href="../../../shared/switcher.css">
    <meta name="description" content="一本書けた。ひかりの中で何かが弾けた。 「いける、私……いけるかもしれない！」 その勢いのまま、彼女はテストケースを増やし始めた。ログイン、検索、いいね、コメント……。手っ取り早い方法はコピペだ。動いたコードを複製して、ちょっと直す。増える。増える。増える。 三日後。UIの文言が">
    <meta property="og:title" content="第4話「コピペ地獄からのPage Object救出作戦」">
    <meta property="og:description" content="一本書けた。ひかりの中で何かが弾けた。 「いける、私……いけるかもしれない！」 その勢いのまま、彼女はテストケースを増やし始めた。ログイン、検索、いいね、コメント……。手っ取り早い方法はコピペだ。動いたコードを複製して、ちょっと直す。増える。増える。増える。 三日後。UIの文言が">
    <script src="../../../shared/features/init-features.js" defer></script>
    <script src="../../../shared/switcher.js" defer></script>
  </head>
  <body class="sg-surface" data-experience="hina" data-template="detail" data-routes-href="/nagi-s2/generated_v2/routes.json" data-content-id="nagi-s2-ep04">
  <article class="sg-article" data-template="detail" data-content-id="nagi-s2-ep04" data-routes-href="/nagi-s2/generated_v2/routes.json">
    <header class="sg-header" data-tts="ignore">
      <p class="sg-eyebrow">Detail</p>
      <h1>第4話「コピペ地獄からのPage Object救出作戦」</h1>
      <p class="sg-lede">一本書けた。ひかりの中で何かが弾けた。 「いける、私……いけるかもしれない！」 その勢いのまま、彼女はテストケースを増やし始めた。ログイン、検索、いいね、コメント……。手っ取り早い方法はコピペだ。動いたコードを複製して、ちょっと直す。増える。増える。増える。 三日後。UIの文言が</p>
      <nav class="sg-nav">
        <ul class="sg-nav-links">
        <li><a href="/nagi-s2/generated_v2/hina/">ホーム</a></li>
        <li><a href="/nagi-s2/generated_v2/hina/list/">一覧</a></li>
        <li><a href="/nagi-s2/generated_v2/hina/#about">紹介</a></li>
        <li><a href="/nagi-s2/generated_v2/hina/#episodes">12話</a></li>
        <li><a href="/nagi-s2/generated_v2/hina/#characters">キャラクター</a></li>
      </ul>
      <button
        type="button"
        class="view-switcher"
        data-action="switch-experience"
      >
        体験を切り替える
      </button>
      </nav>
    </header>
    <section class="sg-main" data-content-body>
      <pre class="mw-md">一本書けた。ひかりの中で何かが弾けた。
「いける、私……いけるかもしれない！」
その勢いのまま、彼女はテストケースを増やし始めた。ログイン、検索、いいね、コメント……。手っ取り早い方法はコピペだ。動いたコードを複製して、ちょっと直す。増える。増える。増える。

三日後。UIの文言が一つ変わった。
“ログイン”が“サインイン”になった。
それだけで、ひかりのテストは一斉に赤く染まった。

「やだ……やだやだやだ……！」
画面の赤は第1話の赤と違った。これは物語の始まりじゃなく、崩壊の色だ。
ひかりは席で固まる。息が浅くなる。泣く準備が整ってしまう。

ナギは静かに、ひかりのPR一覧を開いた。そこには同じロケータが、八箇所に散っていた。
「同じボタン、八回書いてる。ひかり、これを一個にしたら世界は平和になる」
「一個に……？」
ナギはサンプルを出す。`LoginPage`というクラス。ロケータも操作も、そこに集約されている。

「Page Object Model。画面を“部屋”として扱う。部屋の鍵の場所は、部屋の中に置く。テストは、部屋を出入りするだけ」
ミオが頷く。
「メンテの地獄は、散らばった知識から始まる」

ひかりは言い訳しかけて、飲み込んだ。便利さに甘えて、未来の自分を殴っていたのは自分だ。
「……私、推しボタンの場所、八回も書いてました」
「撫でればいいのは一回でいい」
ナギは笑う。
「推しボタン一つだけ撫でれば、全テストが喜ぶ。ほら、やってみよう」

二人で`LoginPage`を作り、`signIn()`のメソッドを定義し、テストから生ロケータを追い出す。
すると、文言変更の修正は`LoginPage`の一箇所だけになった。
直った瞬間、赤が連鎖的に緑に変わる。まるでドミノみたいに。

「え……今まで八箇所しばいてたのが……」
ひかりは画面を見ながら笑ってしまう。
「推しボタン、一回撫でるだけで良くなった……！」

真壁が、珍しく素直に言った。
「それだよ。変更は避けられない。避けられないなら、変わっても痛くない形にする」
ナギが続ける。
「設計は優しさだ。今のひかりは、未来のチームに優しくなった」

ひかりは、赤い地獄の底で見つけた救命ロープを握りしめる。
コピペは楽だった。けれど、設計は誇らしい。
「次は……“散らばらない世界”を作ります」
その言葉に、ナギは一度だけ深く頷いた。</pre>
    </section>
    <footer class="sg-meta">
      <p>コンテンツ ID: nagi-s2-ep04</p>
    </footer>
  </article>
  </body>
</html>
<!-- sitegen build: ts=1970-01-01T00:00:00+00:00 sha=2dfb7658b1ad2482f9fed8cb1cdb77bce1852bdc items=13 -->
