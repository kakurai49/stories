<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第8話「カバレッジの虹を見上げて」</title>
    <link rel="stylesheet" href="pop3_style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
</head>
<body>

<a class="skip" href="#content">本文へスキップ</a>
<header class="topbar" role="banner" data-tts="ignore">
  <div class="topbar-inner">
    <a class="brand" href="index.html" aria-label="トップページへ">
      <div class="mark" aria-hidden="true"></div>
      <div class="brand-title">
        <b>結城ユイの成長物語</b>
        <span>瑠璃の宝石スタイル｜サキュバスメイド喫茶《∞》</span>
      </div>
    </a>
    <nav class="nav" aria-label="関連ナビゲーション">
      <a href="index.html#episodes">12話一覧</a>
      <a href="index.html#about">紹介</a>
      <a class="cta" href="index.html">トップへ戻る</a>
    </nav>
  </div>
</header>
  <main id="content">

    <header>
        第8話「カバレッジの虹を見上げて」
    </header>

    <section class="tts-controls" aria-label="読み上げコントロール" data-tts="ignore">
        <button type="button" id="speechToggle" aria-pressed="false">読み上げ OFF</button>
        <button type="button" id="speechPause" disabled aria-pressed="false">一時停止</button>
        <label for="ttsVoice">音声:
            <select id="ttsVoice" name="ttsVoice"></select>
        </label>
        <span id="voiceSelectionStatus" aria-live="polite" class="voice-status"></span>
        <label for="ttsPreset">プリセット:
            <select id="ttsPreset" name="ttsPreset">
                <option value="default">通常</option>
                <option value="calmFemale">落ち着いた女性ナレーション</option>
                <option value="custom">カスタム</option>
            </select>
        </label>
        <label for="speechRate">速度:
            <input type="range" id="speechRate" name="speechRate" min="0.7" max="1.3" step="0.1" value="1">
            <span id="speechRateValue">1.0</span>
        </label>
        <div id="speechStatus" role="status" aria-live="polite">準備中...</div>
    </section>

    <div class="container" id="story">
        <div class="section">
            <h2>◆前回までのあらすじ</h2>
            <p>魔界歓楽街のサキュバスメイド喫茶《∞（インフィニティ）》で、新人テストエンジニアとして働く結城ユイ──源氏名ユイリア。場当たり運営で炎上しかけたオープン初夜、伝説のテストアーキテクト・神崎ナギに救われ、「テストは世界の見方を設計する仕事」だと知る。</p>
            <p>店の前を行き交う人々を観察し、仕様書の外側まで含めた世界 <span class="katex">W</span> を意識するようになったユイは、ばらばらに見える客たちを同値クラスとしてまとめ、境界値分析で踏み込み方を整え、決定表で分岐の森を地図にし、状態遷移図で関係の変化を見通す力を磨いてきた。大イベント前にはペアワイズで「筋のいい組合せ」だけを選び、「全部は試せない」という賢いあきらめ方も学びつつある。</p>
        </div>

        <div class="section">
            <h2>◆本編</h2>
            <p>イベント閉店後の《∞》は、嘘みたいに静かだった。さっきまで魔界 EDM が鳴り響き、社畜も観光客もカップルもごちゃまぜだったフロアが、今は片付いたテーブルとほのかな魔灯の明かりだけを残している。</p>
            <p>ユイリアはカウンター席で大きくため息をついた。目の前には今日のイベント用に自分で書いたテストケースノート。ページの端には「ペアワイズ OK」「境界△」「カズマさん来たら追加観察」と走り書きのメモが乱れている。</p>

            <div class="dialogue">
                <span class="character-name">ユイリア</span>
                「一応、事故はなかったし……みんな楽しそうだった、よね」
            </div>

            <p>つぶやきながらも、胸のあたりがざわざわして落ち着かない。何かを忘れている気がする。どこかに穴があって、明日突然そこから炎が噴き出すんじゃないか、みたいな感覚。</p>

            <div class="dialogue">
                <span class="character-name">神崎ナギ</span>
                「顔に“テスト不安”って書いてあるよ」
            </div>

            <p>振り向くと、いつの間にか神崎ナギがグラスに水を入れて座っていた。奥の厨房では、オーナーのバルハがしっぽで鍋を器用に運びながらこちらをちらりと見てニヤリと笑っている。</p>

            <p>ユイは観念して、ノートをぐるっと回してナギのほうに押し出した。</p>

            <div class="dialogue">
                <span class="character-name">ユイリア</span>
                「今日、ペアワイズで組合せはかなり削れて……決定表も一応作って……境界っぽいところも、前に怒られたやつは踏み直して。でも、どこまでやれてるのか、全然わかんなくて。“まだ足りない気がする”って感覚だけが、ずっと残っちゃうんです」
            </div>

            <p>ナギはノートをぱらぱらとめくり、ページの端に描かれた小さな丸や矢印を眺めながら、ふっと目を細めた。</p>

            <div class="dialogue">
                <span class="character-name">神崎ナギ</span>
                「うん。いい顔してるよ、ユイ」
            </div>

            <div class="dialogue">
                <span class="character-name">ユイリア</span>
                「えっ、今にも泣きそうなんですけど」
            </div>

            <div class="dialogue">
                <span class="character-name">神崎ナギ</span>
                「『ここまではやった。でも、どこまで守れてるんだろう？』って、カバレッジを気にし始めた目だもん」
            </div>

            <p>ナギはナプキンの裏に小さな七色の弧を描いた。</p>

            <div class="dialogue">
                <span class="character-name">神崎ナギ</span>
                「テストで『どのくらい試せてる？』を考えるとき、私はよく虹を描く。網羅したいものを色で塗っていくイメージね」
            </div>

            <p>弧には「機能」「組合せ」「境界」「役割」「時間帯」「デバイス」などのラベルが並ぶ。</p>

            <div class="dialogue">
                <span class="character-name">神崎ナギ</span>
                「全部を同じ濃さで塗るのは無理。だから、今日みたいに組合せはペアワイズで薄めに、でも境界と役割は濃く塗る、とか、塗り分けを決める」
            </div>

            <p>ユイは虹の欠けたところを指でなぞった。</p>

            <div class="dialogue">
                <span class="character-name">ユイリア</span>
                「私、時間帯とデバイス、ほぼ塗ってないかも……」
            </div>

            <div class="dialogue">
                <span class="character-name">神崎ナギ</span>
                「じゃあ次の改善ポイントが見えたね。『虹のこの色は薄いけど、今回は許容する』『この色だけは濃く塗る』って自分で決めると、不安はだいぶ形になるよ」
            </div>

            <p>ユイはノートの隅に、小さな虹を描き写す。「機能：濃」「境界：濃」「組合せ：中」「役割：中」「時間帯：薄」「デバイス：薄」。</p>

            <p>バルハが厨房から顔を出し、鍋をかき混ぜながら笑った。</p>

            <div class="dialogue">
                <span class="character-name">バルハ</span>
                「虹、いいじゃない。うちの店も七色に光ってるんだし」
            </div>

            <p>ユイはふっと笑う。不安は消えない。けれど、どの色をどこまで塗ったかを自分で説明できると思うと、胸のざわつきが少しだけ静まった。</p>

            <div class="dialogue">
                <span class="character-name">ユイリア</span>
                「次のイベントでは、時間帯の色もちゃんと塗ってみます」
            </div>

            <div class="dialogue">
                <span class="character-name">神崎ナギ</span>
                「うん。虹は一晩じゃ完成しないからね。少しずつ重ねていこう」
            </div>

            <p>虹色のメモをポケットにしまいながら、ユイは静かなフロアを見渡した。テストは終わらない。それでも、どの色を濃く塗るかを選べる自分が、少しだけ誇らしかった。</p>
        </div>
    </div>
  </main>

    <div class="footer">
        © 魔界歓楽街 サキュバスメイド喫茶《∞（インフィニティ）》
    </div>

    <!-- KaTeX JS -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false},
                    {left: '\\(', right: '\\)', display: false},
                    {left: '\\[', right: '\\]', display: true}
                ]
            });
        });
    </script>
    <script type="module">
        import { initStoryTTS } from "./tts.js";

        document.addEventListener("DOMContentLoaded", () => {
            initStoryTTS({
                storySelector: "#story",
                toggleId: "speechToggle",
                pauseId: "speechPause",
                statusId: "speechStatus",
                rateId: "speechRate",
                rateValueId: "speechRateValue",
                voiceSelectId: "ttsVoice",
                voiceLabelId: "voiceSelectionStatus",
                presetId: "ttsPreset"
            });
        });
    </script>
</body>
</html>
